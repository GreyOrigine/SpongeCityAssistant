# （1）LMM全链路体系



## 从模型到应用

- 模型选择
- 业务场景复杂度
- 算力
  - 决定是否需要部分参数微调
- 续参/全参数微调
- 环境交互
- 构建智能体
- 模型评测
- 模型部署

## 可参考的开发流程

- 多种模态数据与任务
  - 问二八年数据
  - 图像文本数据
  - 视频数据
- 预训练
  - 支持8卡到千卡训练
  - Hybrid Zero 加速
  - 兼容主流技术生态
- 微调
  - 增量训练
    - 垂直领域知识训练数据
  - 有监督微调
    - 使模型理解遵循指令
    - 注入少量领域知识训练数据
    - 全量参数微调、部分参数微调
  - 开源生态+自动优化加速+微调算法
  - 硬件支持
    - NIVIDIA 20
    - 8GB - 7B
- LMDeploy部署
  - LLM特点
    - 内存开销大
    - 动态shape
    - 模型结构相对简单 decoder-only
  - 技术挑战
    - 显卡移动端等设备部署
    - 推理
      - token生成速度
      - 解决动态shape不会中断
      - 管理内存
    - 服务
      - 系统整体吞吐量
      - 请求响应时间
  - 部署方案
    - 技术点
      - 模型并行
      - 低比特量化
      - Attention优化
      - 计算和访存优化
      - Continuous Batching
  - LMDeploy
    - 接口
      - Python
      - gRPC
      - RESTful
    - 轻量化
      - 4bit权重
      - 8bit k/v
    - 推理引擎
      - turbomind
      - pytorch
      - 持续批处理+k/v缓存管理机制+优化计算kernel
      - 静态推理：固定batch，输入输出token数量
      - 动态推理：真是对话，不定长的输入输出
    - 服务
      - openai-server 接口高度兼容
      - gradio 前端
      - triton inference server
      - 工具链
- OpenCompass评测
  - 常见类型
    - 客观评测
    - 客观/主观评测
    - 主观评测
    - 量级（1k+ ------ 8w+）
  - OpenCompass
    - 6领域数据
    - 80+评测集
    - 40w+评测题目
  - 评测平台架构
    - 工具层
      - 分布式评测
      - 提示词工程
      - 评测数据库上报
      - 评测榜单发布
      - 评测报告生成
    - 方法层
      - 自动化客观评测
      - 基于模型辅助的主观评测
      - 基于人类反馈的主观评测 RLHF
    - 能力层
      - 通用能力
        - 学科、语言、知识、ijie、推理、安全
      - 特色能力
        - 长文本、代码、工具、知识增强
    - 模型层
      - 基座模型
      - 对话模型
- Agent应用
  - LLM局限性
    - 新信息获取
    - 回复可靠性
    - 数学计算
    - 工具使用与交互
  - 轻量级Lagnet
    - 支持多类型能力 （ReAct + ReWoo + AutoGPT）
    - 支持主流LLM （Llama + GPT + Hugging face）
    - 拓展性高 (API)
  - 工具箱AgentLego
    - agent主流系统
      - LangChain
      - Transformers Agent
      - Lagent
    - 主流算法功能
    - multi model API
    - 远程工具部署

